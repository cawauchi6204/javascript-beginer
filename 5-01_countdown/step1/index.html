<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>5-01_countdown</title>
<link href="../../_common/images/favicon.ico" rel="shortcut icon">
<link href="https://fonts.googleapis.com/css?family=M+PLUS+1p:400,500" rel="stylesheet">
<link href="../../_common/css/style.css" rel="stylesheet">
</head>
<body>
<header>
<div class="container">
<h1>カウントダウンタイマー</h1>
<h2>残り時間を計算するファンクションを作る</h2>
</div><!-- /.container -->
</header>
<main>
<div class="container">
<section>
    <p>夜の10時までは50%オフ！つまり！！</p>
    <p>いまから<span id="timer"></span>以内に注文すると50%オフ！</p>
</section>
</div><!-- /.container -->
</main>
<footer>
<div class="container">
<p>JavaScript Samples</p>
</div><!-- /.container -->
</footer>
<script>
'use strict';


function countdown(){
const now = new Date();//今の時間
const today22 = new Date(now.getFullYear(),now.getMonth(),now.getDate(),now.getHours());
const differ = today22.getTime()-now.getTime();//あと何秒か計算

const sec = Math.floor(differ/1000)%60;//ミリ秒を秒に直してから
const min = Math.floor(differ/1000/60)%60;//1時間 = 60分だからね
const hour = Math.floor(differ/1000/60/60);
document.getElementById("timer").textContent=String(differ).padStart(2,"0"); //一桁になった時0がつくように
// この関数の中にsetTimeoutメソッドを入れて実行している
setTimeout(countdown,1000);//1秒毎に繰り返す
}
countdown();
</script>
</body>
</html>
